var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,n,s)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,i=(t,i)=>{for(var r in i||(i={}))n.call(i,r)&&o(t,r,i[r]);if(e)for(var r of e(i))s.call(i,r)&&o(t,r,i[r]);return t};function r(t,e){if(!t&&"string"!=typeof t)throw new TypeError("fragment name is required");const n=document.querySelectorAll(`[data-fragment=${t}]`)||[],s=Array.from(n);return()=>{s.forEach((t=>{e({root:t,on:function(e,n){t.addEventListener(e,n)},query:function(e){return t.querySelector(e)},queryAll:function(e){return t.querySelectorAll(e)},emit:function(e,n={}){const s=new CustomEvent(e,{bubbles:!0,detail:i({},n)});t.dispatchEvent(s)}})}))}}var a=r("body",(({root:t})=>{console.log(t)})),l=r("select",(({on:t,root:e,query:n,emit:s})=>{const o="app-select__virtual-option",i="app-select--open",r=n(".app-select__select-input"),a=n(".app-select__custom-options"),l=n(".app-select__label");function c(){e.classList.remove(i)}function u(t){var n;const o=null==(n=null==e?void 0:e.dataset)?void 0:n.fieldSlug;s("selectChange",{slug:o,value:t})}t("click",(function(t){const n=t.target;if(!(n instanceof HTMLElement))return;const s=Array.from(n.classList);s.includes(o)?function(t){const e=t.dataset.value,n=t.innerHTML;l&&(l.innerHTML=n);const s=String(e);r instanceof HTMLSelectElement&&(r.value=s);u(s),c()}(n):e.classList.add(i)})),t("blur",c),t("change",(function({target:t}){u(null==t?void 0:t.value)})),function(){if(r instanceof HTMLElement){const t=r.children,e=Array.from(t).map((t=>t instanceof HTMLOptionElement?`<li class="${o}" data-value="${t.value}">${t.innerHTML}</li>`:"")).filter((t=>!!t)).join("\n");a instanceof HTMLElement&&(a.innerHTML=e)}}()}));const c=window.matchMedia("(max-width: 768px)").matches;function u(){const t=function(){const t=document.body;return Math.max(t.scrollHeight,t.offsetHeight)}();window.scrollTo(0,t)}var d=r("section-hero",(({root:t,on:e,query:n})=>{const s=n(".section-hero__icon-holder");e("mousemove",(function(e){if(!c){const n=2,s=(window.innerWidth-e.pageX*n)/100,o=(window.innerWidth-e.pageY)/100,i=t=>`${t}px`;t.style.setProperty("--mouse-x",i(s)),t.style.setProperty("--mouse-y",i(o))}})),e("click",(function({target:t}){(null==s?void 0:s.contains(t))&&u()})),window.addEventListener("load",(()=>{t.classList.add("section-hero--animate")}))}));const f={"sunlight-select":"","water-select":"","chew-select":""};var v=r("section-filters",(({on:t,root:e,emit:n})=>{function s(){const t=setTimeout((()=>{e.classList.add("section-filters--animate"),clearTimeout(t)}),1950);window.removeEventListener("load",s)}t("selectChange",(function(t){var e,s;f[null==(e=null==t?void 0:t.detail)?void 0:e.slug]=null==(s=null==t?void 0:t.detail)?void 0:s.value;(function(){const t=Object.keys(f),e=3===t.length,n=t.every((t=>!!f[t]));return e&&n})()&&n("user-selected-values",f)})),c||window.addEventListener("load",s)}));const p=document.querySelector(".section-no-results");class h{constructor({id:t=Number(),name:e=String(),price:n=Number(),staff_favorite:s=Boolean(),sun:o=String(),toxicity:i=Boolean(),url:r=String(),water:a=String()}){this.id=t,this.name=e,this.price=n,this.staffFavorite=s,this.sun=o,this.toxicity=i,this.url=r,this.water=a,this.formattedPrice=`$${n}`}}var m=r("section-plants-results",(({root:t,query:e})=>{const n="section-plants-results--visible",s=e(".section-plants-results__cards-holder");async function o(e){const{"sunlight-select":o,"water-select":i,"chew-select":r}=null==e?void 0:e.detail,a=await function({sunlight:t,water:e,chew:n}){return fetch(`https://front-br-challenges.web.app/api/v2/green-thumb/?sun=${t}&water=${e}&pets=${n}`).then((t=>404===t.status?[]:t.json())).then(((t=[])=>t.map((t=>new h(t))))).catch(console.error)}({sunlight:o,water:i,chew:r});var l;!!a.length?(null==(l=null==p?void 0:p.classList)||l.add("section-no-results--hide"),function(t){s&&(s.innerHTML=t.sort((t=>t.staffFavorite?-1:1)).map((t=>function(t){const e=!!t.staffFavorite,n="plant-card",s=`${n} ${e?`${n}--favorite`:""}`,o=`<h2 class="plant-card__title">${t.name}</h2>`;return`\n        <div class=${s}>\n          ${e?'<div class="plant-card__staff-favorite-flag"><h3>âœ¨ Staff favorite</h3></div>':""}\n          <div class="plant-card__image-holder">\n            <img src="${t.url}" alt="plant image" />\n          </div>\n          <div class="plant-card__text-content">\n            ${e?"":o}\n            <div class="plant-card__desc">\n              <div class="plant-card__left">\n                ${e?o:""}\n                <p class="plant-card__price">${t.formattedPrice}</p>\n              </div>\n              <div class="plant-card__right">\n                \n              </div>\n            </div>\n          </div>\n        </div>\n      `}(t))).join("\n"))}(a),t.classList.add(n),t.scrollIntoView()):(!function(){var t;null==(t=null==p?void 0:p.classList)||t.remove("section-no-results--hide")}(),t.classList.remove(n),u())}window.addEventListener("user-selected-values",o)}));l(),a(),d(),v(),m();
