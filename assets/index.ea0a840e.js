var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,i=(e,i)=>{for(var r in i||(i={}))n.call(i,r)&&s(e,r,i[r]);if(t)for(var r of t(i))o.call(i,r)&&s(e,r,i[r]);return e};function r(e,t){if(!e&&"string"!=typeof e)throw new TypeError("fragment name is required");const n=document.querySelectorAll(`[data-fragment=${e}]`)||[],o=Array.from(n);return()=>{o.forEach((e=>{t({root:e,on:function(t,n){e.addEventListener(t,n)},query:function(t){return e.querySelector(t)},queryAll:function(t){return e.querySelectorAll(t)},emit:function(t,n={}){const o=new CustomEvent(t,{bubbles:!0,detail:i({},n)});e.dispatchEvent(o)}})}))}}var a=r("body",(({root:e})=>{console.log(e)})),l=r("select",(({on:e,root:t,query:n,emit:o})=>{const s="app-select__virtual-option",i="app-select--open",r=n(".app-select__select-input"),a=n(".app-select__custom-options"),l=n(".app-select__label");function c(){t.classList.remove(i)}function u(e){var n;const s=null==(n=null==t?void 0:t.dataset)?void 0:n.fieldSlug;o("selectChange",{slug:s,value:e})}e("click",(function(e){const n=e.target;if(!(n instanceof HTMLElement))return;const o=Array.from(n.classList);o.includes(s)?function(e){const t=e.dataset.value,n=e.innerHTML;l&&(l.innerHTML=n);const o=String(t);r instanceof HTMLSelectElement&&(r.value=o);u(o),c()}(n):t.classList.add(i)})),e("blur",c),e("change",(function({target:e}){u(null==e?void 0:e.value)})),function(){if(r instanceof HTMLElement){const e=r.children,t=Array.from(e).map((e=>e instanceof HTMLOptionElement?`<li class="${s}" data-value="${e.value}">${e.innerHTML}</li>`:"")).filter((e=>!!e)).join("\n");a instanceof HTMLElement&&(a.innerHTML=t)}}()}));const c=window.matchMedia("(max-width: 768px)").matches;function u(){const e=function(){const e=document.body;return Math.max(e.scrollHeight,e.offsetHeight)}();window.scrollTo(0,e)}var d=r("section-hero",(({root:e,on:t,query:n})=>{const o=n(".section-hero__icon-holder");t("mousemove",(function(t){if(!c){const n=2,o=(window.innerWidth-t.pageX*n)/100,s=(window.innerWidth-t.pageY)/100,i=e=>`${e}px`;e.style.setProperty("--mouse-x",i(o)),e.style.setProperty("--mouse-y",i(s))}})),t("click",(function({target:e}){(null==o?void 0:o.contains(e))&&u()})),window.addEventListener("load",(()=>{e.classList.add("section-hero--animate")}))}));const f={"sunlight-select":"","water-select":"","chew-select":""};var v=r("section-filters",(({on:e,root:t,emit:n})=>{function o(){const e=setTimeout((()=>{t.classList.add("section-filters--animate"),clearTimeout(e)}),1950);window.removeEventListener("load",o)}e("selectChange",(function(e){var t,o;f[null==(t=null==e?void 0:e.detail)?void 0:t.slug]=null==(o=null==e?void 0:e.detail)?void 0:o.value;(function(){const e=Object.keys(f),t=3===e.length,n=e.every((e=>!!f[e]));return t&&n})()&&n("user-selected-values",f)})),c||window.addEventListener("load",o)}));const p=document.querySelector(".section-no-results");class h{constructor({id:e=Number(),name:t=String(),price:n=Number(),staff_favorite:o=Boolean(),sun:s=String(),toxicity:i=Boolean(),url:r=String(),water:a=String()}){this.id=e,this.name=t,this.price=n,this.staffFavorite=o,this.sun=s,this.toxicity=i,this.url=r,this.water=a,this.formattedPrice=`$${n}`}}var m=r("section-plants-results",(({root:e,query:t})=>{const n="section-plants-results--visible",o=t(".section-plants-results__cards-holder");async function s(t){const{"sunlight-select":s,"water-select":i,"chew-select":r}=null==t?void 0:t.detail,a=await function({sunlight:e,water:t,chew:n}){return fetch(`https://front-br-challenges.web.app/api/v2/green-thumb/?sun=${e}&water=${t}&pets=${n}`).then((e=>404===e.status?[]:e.json())).then(((e=[])=>e.map((e=>new h(e))))).catch(console.error)}({sunlight:s,water:i,chew:r});var l;!!a.length?(null==(l=null==p?void 0:p.classList)||l.add("section-no-results--hide"),function(e){o&&(o.innerHTML=e.sort((e=>e.staffFavorite?-1:1)).map((e=>function(e){const t=!!e.staffFavorite,n="plant-card",o=`${n} ${t?`${n}--favorite`:""}`,s=`<h2 class="plant-card__title">${e.name}</h2>`;return`\n        <div class=${o}>\n          ${t?'<div class="plant-card__staff-favorite-flag"><h3>âœ¨ Staff favorite</h3></div>':""}\n          <div class="plant-card__image-holder">\n            <img src="${e.url}" alt="plant image" />\n          </div>\n          ${t?"":s}\n          <div class="plant-card__desc">\n            <div class="plant-card__left">\n              ${t?s:""}\n            </div>\n            <div class="plant-card__right">\n              <p>${e.formattedPrice}</p>\n            </div>\n          </div>\n        </div>\n      `}(e))).join("\n"))}(a),e.classList.add(n),e.scrollIntoView()):(!function(){var e;null==(e=null==p?void 0:p.classList)||e.remove("section-no-results--hide")}(),e.classList.remove(n))}window.addEventListener("user-selected-values",s)}));l(),a(),d(),v(),m();
