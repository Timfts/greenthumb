var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,i=(e,i)=>{for(var r in i||(i={}))n.call(i,r)&&s(e,r,i[r]);if(t)for(var r of t(i))o.call(i,r)&&s(e,r,i[r]);return e};function r(e,t){if(!e&&"string"!=typeof e)throw new TypeError("fragment name is required");const n=document.querySelectorAll(`[data-fragment=${e}]`)||[],o=Array.from(n);return()=>{o.forEach((e=>{t({root:e,on:function(t,n){e.addEventListener(t,n)},query:function(t){return e.querySelector(t)},queryAll:function(t){return e.querySelectorAll(t)},emit:function(t,n={}){const o=new CustomEvent(t,{bubbles:!0,detail:i({},n)});e.dispatchEvent(o)}})}))}}var l=r("body",(({root:e})=>{console.log(e)})),c=r("select",(({on:e,root:t,query:n,emit:o})=>{const s="app-select__virtual-option",i="app-select--open",r=n(".app-select__select-input"),l=n(".app-select__custom-options"),c=n(".app-select__label");function a(){t.classList.remove(i)}function u(e){var n;const s=null==(n=null==t?void 0:t.dataset)?void 0:n.fieldSlug;o("selectChange",{slug:s,value:e})}e("click",(function(e){const n=e.target;if(!(n instanceof HTMLElement))return;const o=Array.from(n.classList);o.includes(s)?function(e){const t=e.dataset.value,n=e.innerHTML;c&&(c.innerHTML=n);const o=String(t);r instanceof HTMLSelectElement&&(r.value=o);u(o),a()}(n):t.classList.add(i)})),e("blur",a),e("change",(function({target:e}){u(null==e?void 0:e.value)})),function(){if(r instanceof HTMLElement){const e=r.children,t=Array.from(e).map((e=>e instanceof HTMLOptionElement?`<li class="${s}" data-value="${e.value}">${e.innerHTML}</li>`:"")).filter((e=>!!e)).join("\n");l instanceof HTMLElement&&(l.innerHTML=t)}}()}));const a=window.matchMedia("(max-width: 768px)").matches;function u(){const e=function(){const e=document.body;return Math.max(e.scrollHeight,e.offsetHeight)}();window.scrollTo(0,e)}var d=r("section-hero",(({root:e,on:t,query:n})=>{const o=n(".section-hero__icon-holder");t("mousemove",(function(t){if(!a){const n=2,o=(window.innerWidth-t.pageX*n)/100,s=(window.innerWidth-t.pageY)/100,i=e=>`${e}px`;e.style.setProperty("--mouse-x",i(o)),e.style.setProperty("--mouse-y",i(s))}})),t("click",(function({target:e}){(null==o?void 0:o.contains(e))&&u()})),window.addEventListener("load",(()=>{e.classList.add("section-hero--animate")}))}));const f={"sunlight-select":"","water-select":"","chew-select":""};var v=r("section-filters",(({on:e,root:t,emit:n})=>{function o(){const e=setTimeout((()=>{t.classList.add("section-filters--animate"),clearTimeout(e)}),1950);window.removeEventListener("load",o)}e("selectChange",(function(e){var t,o;f[null==(t=null==e?void 0:e.detail)?void 0:t.slug]=null==(o=null==e?void 0:e.detail)?void 0:o.value;(function(){const e=Object.keys(f),t=3===e.length,n=e.every((e=>!!f[e]));return t&&n})()&&n("user-selected-values",f)})),a||window.addEventListener("load",o)}));const h=document.querySelector(".section-no-results");class m{constructor({id:e=Number(),name:t=String(),price:n=Number(),staff_favorite:o=Boolean(),sun:s=String(),toxicity:i=Boolean(),url:r=String(),water:l=String()}){this.id=e,this.name=t,this.price=n,this.staffFavorite=o,this.sun=s,this.toxicity=i,this.url=r,this.water=l,this.formattedPrice=`$${n}`}}var p=r("section-plants-results",(({root:e})=>{const t="section-plants-results--visible";async function n(n){const{"sunlight-select":o,"water-select":s,"chew-select":i}=null==n?void 0:n.detail;var r;!!(await function({sunlight:e,water:t,chew:n}){return fetch(`https://front-br-challenges.web.app/api/v2/green-thumb/?sun=${e}&water=${t}&pets=${n}`).then((e=>404===e.status?[]:e.json())).then(((e=[])=>e.map((e=>new m(e))))).catch(console.error)}({sunlight:o,water:s,chew:i})).length?(null==(r=null==h?void 0:h.classList)||r.add("section-no-results--hide"),e.classList.add(t)):(!function(){var e;null==(e=null==h?void 0:h.classList)||e.remove("section-no-results--hide")}(),e.classList.remove(t)),u()}window.addEventListener("user-selected-values",n)}));c(),l(),d(),v(),p();
